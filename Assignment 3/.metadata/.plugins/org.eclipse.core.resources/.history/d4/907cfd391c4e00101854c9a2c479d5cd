package com.example.library;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;
import org.springframework.transaction.annotation.Transactional;

import lombok.AllArgsConstructor;
import reactor.core.publisher.Flux;
import reactor.core.publisher.Mono;

@Transactional
@Service
@AllArgsConstructor

public class BookService {
 
	 @Autowired
	    private BookRepository bookRepository;

	    public Flux<Book> getAllBooks() {
	        return bookRepository.findAll();
	    }

	    public Mono<Book> getById(String bookId) {
	        return bookRepository.findById(bookId);
	    }

	    public Mono<Book> addBook(Book book) {
	        return bookRepository.save(book);
	    }
	    
	    public Mono update(final String id, final Book book) {
			 
			return bookRepository.save(book);
			 
		}

}
